<table border="1" style="text-align:center;" cellpadding="10%">  

<% @player_inventories = PlayerInventory.find(:all, :conditions => ["player_id = ?", session[:p_id]]) %> 
  <tr>
    <% player = Player.find(:first, :conditions => ["id = ?", session[:p_id]]) %>
    <th colspan=4><%= player.character_name + " " %> Equipped Inventory</th>
  </tr>
  
<% @player_inventories.each do |player_inventory| %>
  <% inventory = Inventory.find(:first, :conditions => ["id = ?", player_inventory.inventory_id]) %>
  <tr>
  	<th><%= inventory.slot %></th>
    <td><%= inventory.name %></td>
	<% @slot = inventory.slot %>
	<td><%= link_to 'show', { :controller => "inventories", :action => "show", :id => inventory.id } %></td>
	<td><%= link_to 'Replace ' + inventory.slot, { :controller => "inventories", :action => "list", :slot => @slot, :id => inventory.id } %></td>
  </tr>
<% end %>
</table>
<%= link_to 'Character', player_path(:id => session[:p_id]) %>